{"version":3,"sources":["UI/Modal/Modal.js","Container/Map/Map.js","config/keys.js","axios-order.js","UI/Modal/Modal.module.css"],"names":["Modal","react_default","a","createElement","className","styles","Map","state","markerPosition","lat","lng","showFull","showModal","clickHandler","e","updatedMarkerPosition","updatedObject","_this","latlng","setState","apiCallOWM","get","concat","keys","apiKeyOWM","then","res","console","log","weatherData","location","data","name","country","sys","weatherIconCode","weather","icon","weatherMain","main","temp","pressure","humidity","windSpeed","wind","speed","weatherDescription","description","weatherIcon","this","popupContent","L","popup","setLatLng","setContent","openOn","map","keyPressHandler","key","props","history","push","osm","tileLayer","attribution","center","zoom","layers","on","invalidateSize","marker","addTo","_this2","Object","assign","id","style","width","height","position","top","left","zIndex","onMouseMove","onKeyDown","event","CSSTransition","unmountOnExit","timeout","in","UI_Modal_Modal","Component","withRouter","module","exports","crossQuery","googleAuth","clientID","clientSecret","FirebaseAuth","apiKey","apiKeyGoogle","__webpack_require__","d","__webpack_exports__","apiCallFirebase","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","axios","create","baseURL"],"mappings":"uOAYeA,EARD,WACV,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOL,OACnBC,EAAAC,EAAAC,cAAA,iECGNG,oNACFC,MAAQ,CACJC,eAAgB,CACZC,IAAK,KACLC,IAAK,MAETC,UAAU,EACVC,WAAW,KAsBfC,aAAe,SAACC,GACZ,IAAMC,EAAwBC,YAAcC,EAAKV,MAAMC,eAAgB,CAACC,IAAKK,EAAEI,OAAOT,IAAKC,IAAKI,EAAEI,OAAOR,MACzGO,EAAKE,SAAS,CAACX,eAAgBO,IAE/BK,IAAWC,IAAX,eAAAC,OAA8BR,EAAEI,OAAOT,IAAvC,SAAAa,OAAkDR,EAAEI,OAAOR,IAA3D,WAAAY,OAAwEC,IAAKC,UAA7E,kBACKC,KAAK,SAAAC,GACFC,QAAQC,IAAIF,GACZ,IAAIG,EAAc,CACdC,SAAUJ,EAAIK,KAAKC,KACnBC,QAASP,EAAIK,KAAKG,IAAID,QACtBE,gBAAiBT,EAAIK,KAAKK,QAAQ,GAAGC,KACrCC,YAAaZ,EAAIK,KAAKK,QAAQ,GAAGG,KACjCC,KAAMd,EAAIK,KAAKQ,KAAKC,KACpBC,SAAUf,EAAIK,KAAKQ,KAAKE,SACxBC,SAAUhB,EAAIK,KAAKQ,KAAKG,SACxBC,UAAWjB,EAAIK,KAAKa,KAAKC,MACzBC,mBAAoBpB,EAAIK,KAAKK,QAAQ,GAAGW,YACxCC,kBAAmB,yCAAA1B,OAA0C2B,KAAKd,gBAA/C,UAGnBe,EAAY,mGAAA5B,OAGYO,EAAYmB,YAHxB,uEAAA1B,OAISO,EAAYS,YAJrB,MAAAhB,OAIqCO,EAAYiB,mBAJjD,uGAAAxB,OAMmBO,EAAYC,SAN/B,MAAAR,OAM4CO,EAAYI,QANxD,mGAAAX,OAQeO,EAAYW,KAR3B,yEAAAlB,OASmBO,EAAYY,SAT/B,uEAAAnB,OAUmBO,EAAYa,SAV/B,uEAAApB,OAWqBO,EAAYc,UAXjC,oFAeFQ,IAAEC,QACVC,UAAUvC,EAAEI,QACjBoC,WAAWJ,GACXK,OAAOtC,EAAKuC,UAIzBC,gBAAkB,SAAA3C,GACda,QAAQC,IAAId,EAAE4C,KACD,UAAT5C,EAAE4C,KACFzC,EAAK0C,MAAMC,QAAQC,KAAK,yFA/D5B,IAAIC,EAAMX,IAAEY,UAAU,0CAA2C,CAC7DC,YACI,6EAERf,KAAKO,IAAML,IAAEK,IAAI,MAAO,CACpBS,OAAQ,CAAC,MAAO,OAChBC,KAAM,GAENC,OAAQ,CAACL,KACVM,GAAG,QAASnB,KAAKpC,cACpBoC,KAAKO,IAAIa,8DAITpB,KAAKqB,OAASnB,IAAEmB,OAAOrB,KAAK1C,MAAMC,gBAAgB+D,MAAMtB,KAAKO,KAAKY,GAAG,YAAanB,KAAKpC,cACvFoC,KAAKO,IAAIa,kDAoDJ,IAAAG,EAAAvB,KAUL,OACIhD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACXH,EAAAC,EAAAC,cAAA,MAAAsE,OAAAC,OAAA,GAASzB,KAAKU,MAAd,CACIgB,GAAG,MACHC,MAbO,CACfC,MAAO,OACPC,OAAQ,QACRC,SAAU,WACVC,IAAK,IACLC,KAAM,IACNC,OAAQ,KAQAC,YAAa,kBAAMX,EAAKrD,SAAS,CAACP,WAAW,KAC7CwE,UAAW,SAAAC,GAAK,OAAIb,EAAKf,gBAAgB4B,OAC7CpF,EAAAC,EAAAC,cAACmF,EAAA,EAAD,CAAeC,eAAa,EAACC,QAAS,IAAKC,GAAIxC,KAAK1C,MAAMK,UAAWR,UAAU,SAC3EH,EAAAC,EAAAC,cAACuF,EAAD,eAhGFC,cAuGHC,sBAAWtF,qBCjH1BuF,EAAOC,QAAU,CACbC,WAAY,0BACZvE,UAAW,mCACXwE,WAAY,CACRC,SAAU,2EACVC,aAAc,4BAElBC,aAAc,CACVC,OAAQ,2CAEZC,aAAY,yICVhBC,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAApF,IAAA,IAAAsF,EAAAJ,EAAA,IAAAK,EAAAL,EAAAM,EAAAF,GAEaD,EAAkBI,IAAMC,OAAO,CACpCC,QAAS,kDAOJ3F,EAAayF,IAAMC,OAAO,CACnCC,QAAS,+DCVblB,EAAAC,QAAA,CAAkB9F,MAAA","file":"static/js/8.7b0452ba.chunk.js","sourcesContent":["import React from 'react';\n\nimport styles from './Modal.module.css';\n\nconst Modal = () => {\n    return (\n        <div className={styles.Modal}>\n            <span>Press Esc to exit the full screen mode</span>\n        </div>\n    )   \n}\n\nexport default Modal;","import React, { Component } from 'react';\nimport L from 'leaflet';\nimport { withRouter } from 'react-router';\nimport { updatedObject } from '../../shared/utility';\nimport { apiCallOWM } from '../../axios-order';\nimport keys from '../../config/keys';\nimport Modal from '../../UI/Modal/Modal';\nimport { CSSTransition } from 'react-transition-group';\nimport './Map.css';\n\nclass Map extends Component {\n    state = { \n        markerPosition: { \n            lat: null, \n            lng: null \n        },\n        showFull: false,\n        showModal: true\n    };\n\n    componentDidMount() {\n        let osm = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n            attribution:\n                '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            })\n        this.map = L.map(\"map\", {\n            center: [60.17, 24.94],\n            zoom: 16,\n            // zoomControl: false,\n            layers: [osm],\n        }).on('click', this.clickHandler);\n        this.map.invalidateSize();\n    }\n\n    componentDidUpdate () {\n        this.marker = L.marker(this.state.markerPosition).addTo(this.map).on('mouseover', this.clickHandler);\n        this.map.invalidateSize();\n    }\n\n    clickHandler = (e) => {\n        const updatedMarkerPosition = updatedObject(this.state.markerPosition, {lat: e.latlng.lat, lng: e.latlng.lng})\n        this.setState({markerPosition: updatedMarkerPosition});\n\n        apiCallOWM.get(`weather?lat=${e.latlng.lat}&lon=${e.latlng.lng}&appid=${keys.apiKeyOWM}&units=metric`)\n            .then(res => {\n                console.log(res)\n                let weatherData = {\n                    location: res.data.name,\n                    country: res.data.sys.country,\n                    weatherIconCode: res.data.weather[0].icon,\n                    weatherMain: res.data.weather[0].main,\n                    temp: res.data.main.temp,\n                    pressure: res.data.main.pressure,\n                    humidity: res.data.main.humidity,\n                    windSpeed: res.data.wind.speed,\n                    weatherDescription: res.data.weather[0].description,\n                    get weatherIcon() {return `http://openweathermap.org/img/w/${this.weatherIconCode}.png`}\n                }\n\n                let popupContent = \n                    `<div>\n                        <h3>Weather Info</h3>\n                            <div><img src=${weatherData.weatherIcon} alt=\"weatherIcon\"/></div>\n                            <div><span>${weatherData.weatherMain}: ${weatherData.weatherDescription}</span></div>\n                            <br/>\n                            <div><span>Location: ${weatherData.location}, ${weatherData.country}</span></div>\n                            <br/>\n                            <div><span>Temp: ${weatherData.temp}Â°C</span></div>\n                            <div><span>Pressure: ${weatherData.pressure}hPa</span></div>\n                            <div><span>Humidity: ${weatherData.humidity}%</span></div>\n                            <div><span>Wind Speed: ${weatherData.windSpeed}km/h</span></div>\n                            <br/>\n                    </div>`\n                \n                const popup = L.popup();\n                popup.setLatLng(e.latlng)\n                .setContent(popupContent)\n                .openOn(this.map);\n            });\n    }\n\n    keyPressHandler = e => {\n        console.log(e.key);\n        if (e.key == 'Escape') {\n            this.props.history.push('/')\n        };\n    }\n\n    render() {\n        const fullScreen = {\n            width: '100%',\n            height: '100vh',\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            zIndex: '2'\n        };\n\n        return (\n            <div className=\"section\">\n                <div {...this.props} \n                    id=\"map\" \n                    style={fullScreen}\n                    onMouseMove={() => this.setState({showModal: false})}\n                    onKeyDown={event => this.keyPressHandler(event)}/>\n                <CSSTransition unmountOnExit timeout={500} in={this.state.showModal} className=\"modal\">\n                    <Modal/>\n                </CSSTransition>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(Map);\n\n","module.exports = {\n    crossQuery: 'https://crossorigin.me/',\n    apiKeyOWM: 'cd74f31f04d31585a62866b8b97edde1',\n    googleAuth: {\n        clientID: '177428683083-6j9n8pk24rbl9r0csm7gh16q8it1rjn3.apps.googleusercontent.com',\n        clientSecret: 'R8ipfh0e4nLsmgTYYvkZIab3'\n    },\n    FirebaseAuth: {\n        apiKey: 'AIzaSyCmfJF90oW3AVz03mtGtldBPOW37JUaTRU'\n    },\n    apiKeyGoogle: `https://maps.googleapis.com/maps/api/js?key=AIzaSyDndap1zM6oCgG_fb0ZNDS0ZR5PLv2_fOQ&libraries=places`\n}\n\n//AIzaSyDndap1zM6oCgG_fb0ZNDS0ZR5PLv2_fOQ","import axios from 'axios';\n\nexport const apiCallFirebase = axios.create({\n        baseURL: 'https://profound-outlet-241613.firebaseio.com'\n        // headers: {\n        //     'Access-Control-Allow-Origin': '*',\n        //     'Content-Type': 'application/json'\n        // }\n    })\n\nexport const apiCallOWM = axios.create({\n    baseURL: 'http://api.openweathermap.org/data/2.5'\n})","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__16SAR\"};"],"sourceRoot":""}