(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{136:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var a=n(41),i=n(13),r=n(16),c=n(18),o=n(17),s=n(19),l=n(0),u=n.n(l),m=n(33),p=n(90),d=n(81),h=n.n(d),f=n(7),y=n(2),v=n(3),E=n(38),b=(n(11),n(104));function g(e,t){var n=Object.create(null);return e&&l.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&Object(l.isValidElement)(e)?t(e):e}(e)}),n}function N(e,t,n){return null!=n[t]?n[t]:e.props[t]}function j(e,t,n){var a=g(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var a,i=Object.create(null),r=[];for(var c in e)c in t?r.length&&(i[c]=r,r=[]):r.push(c);var o={};for(var s in t){if(i[s])for(a=0;a<i[s].length;a++){var l=i[s][a];o[i[s][a]]=n(l)}o[s]=n(s)}for(a=0;a<r.length;a++)o[r[a]]=n(r[a]);return o}(t,a);return Object.keys(i).forEach(function(r){var c=i[r];if(Object(l.isValidElement)(c)){var o=r in t,s=r in a,u=t[r],m=Object(l.isValidElement)(u)&&!u.props.in;!s||o&&!m?s||!o||m?s&&o&&Object(l.isValidElement)(u)&&(i[r]=Object(l.cloneElement)(c,{onExited:n.bind(null,c),in:u.props.in,exit:N(c,"exit",e),enter:N(c,"enter",e)})):i[r]=Object(l.cloneElement)(c,{in:!1}):i[r]=Object(l.cloneElement)(c,{onExited:n.bind(null,c),in:!0,exit:N(c,"exit",e),enter:N(c,"enter",e)})}}),i}var O=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},w=function(e){function t(t,n){var a,i=(a=e.call(this,t,n)||this).handleExited.bind(Object(E.a)(Object(E.a)(a)));return a.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},a}Object(v.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,a,i=t.children,r=t.handleExited;return{children:t.firstRender?(n=e,a=r,g(n.children,function(e){return Object(l.cloneElement)(e,{onExited:a.bind(null,e),in:!0,appear:N(e,"appear",n),enter:N(e,"enter",n),exit:N(e,"exit",n)})})):j(e,i,r),firstRender:!1}},n.handleExited=function(e,t){var n=g(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=Object(y.a)({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,a=Object(f.a)(e,["component","childFactory"]),i=this.state.contextValue,r=O(this.state.children).map(n);return delete a.appear,delete a.enter,delete a.exit,null===t?u.a.createElement(b.a.Provider,{value:i},r):u.a.createElement(b.a.Provider,{value:i},u.a.createElement(t,a,r))},t}(u.a.Component);w.propTypes={},w.defaultProps={component:"div",childFactory:function(e){return e}};var x=w,M=n(143),I=n(97),_=(n(136),n(14)),C=n(85),k=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={listCity:[],hasCity:!1},n.removeDataHandler=function(e){n.props.firebase.db.collection("cities").where("cityId","==",e).get().then(function(e){e.forEach(function(e){return e.ref.delete()})}).catch(function(e){console.log("Getting error",e.message)});var t=n.state.listCity.filter(function(t){return t.cityId!==e});n.setState({listCity:t})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("uid");this.props.firebase.db.collection("cities").where("userUid","==",t).get().then(function(t){if(t){var n=Object(a.a)(e.state.listCity);t.forEach(function(e){n.push(e.data())}),e.setState({listCity:n,hasCity:!0})}}).catch(function(e){console.log("Getting error",e)})}},{key:"render",value:function(){var e,t=this,n=-250;return e=u.a.createElement(x,null,this.state.listCity.map(function(e){return n+=250,console.log(n),u.a.createElement(M.a,{key:e.name,in:t.state.listCity.length>1,timeout:500,unmountOnExit:!0,mountOnEnter:!0,classNames:"results"},u.a.createElement(I.a,{authUser:!0,cityName:e.name,temp:Math.round(e.temp),tempMin:e.tempMin,tempMax:e.tempMax,humidity:e.humidity,windSpeed:e.windSpeed,windDeg:e.windDeg,remove:function(){return t.removeDataHandler(e.cityId)},description:e.description,style:{transitionDelay:"".concat(n,"ms")}}))})),u.a.createElement(h.a,null,u.a.createElement("div",{className:"row col-6-of-12"},u.a.createElement("h1",{className:"primary__heading title"},"Save weather for your adventures")),u.a.createElement("h2",{className:"secondary__heading",style:{marginTop:"2rem",marginBottom:"3rem"}},this.state.listCity.length>0?"Your saved cities":"Please add your city"),0===this.state.listCity.length&&!1===this.state.hasCity&&u.a.createElement("div",{style:{width:"20%",margin:"4rem auto"}},u.a.createElement(C.a,null)),e)}}]),t}(l.Component);t.default=Object(_.c)(Object(m.b)(function(e){return{userCityId:e.user.idList,listCity:e.user.listCity}},function(e){return{getCityData:function(t){return e(p.b(t))},removeCityData:function(t){return e(p.c(t))}}})(k))},80:function(e,t){e.exports={crossQuery:"https://crossorigin.me/",apiKeyOWM:"cd74f31f04d31585a62866b8b97edde1",googleAuth:{clientID:"177428683083-6j9n8pk24rbl9r0csm7gh16q8it1rjn3.apps.googleusercontent.com",clientSecret:"R8ipfh0e4nLsmgTYYvkZIab3"},FirebaseAuth:{apiKey:"AIzaSyCmfJF90oW3AVz03mtGtldBPOW37JUaTRU"},apiKeyGoogle:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDndap1zM6oCgG_fb0ZNDS0ZR5PLv2_fOQ&libraries=places"}},81:function(e,t){e.exports=function(e){return e.children}},82:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return c});var a=n(87),i=n.n(a),r=i.a.create({baseURL:"https://profound-outlet-241613.firebaseio.com"}),c=i.a.create({baseURL:"http://api.openweathermap.org/data/2.5"})},83:function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(84),c=n.n(r);t.a=function(e){var t=[c.a.Btn];return t.push(c.a[e.btnType]),e.disabled&&t.push(c.a.disabled),i.a.createElement("button",{type:e.type,className:t.join(" "),onClick:e.click},e.children)}},84:function(e,t,n){e.exports={Btn:"Button_Btn__3Gc_G","Btn-primary":"Button_Btn-primary__ROT0d",disabled:"Button_disabled__1p0kb"}},85:function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(86),c=n.n(r);t.a=function(){return i.a.createElement("div",{className:c.a.Spinner})}},86:function(e,t,n){e.exports={Spinner:"Spinner_Spinner__2AEm6",spin:"Spinner_spin__1Y3QT"}},90:function(e,t,n){"use strict";var a=n(6),i=n(82),r=n(80),c=n.n(r),o=function(e){var t=e[0].city,n=e[1].country;return function(e){e({type:a.g}),i.b.get("weather?q=".concat(t,",").concat(n,"&appid=").concat(c.a.apiKeyOWM,"&units=metric")).then(function(t){var n;console.log(t.data),e((n=t.data,{type:a.h,value:n}))}).catch(function(t){e(function(e){return{type:a.f,err:e}}(t)),console.log(t)})}},s=function(){return function(e){e({type:a.o}),i.a.get("/city.json").then(function(t){e(function(e){return{type:a.p,res:e}}(t.data))}).catch(function(t){e(function(e){return{type:a.n,err:e}}(t))})}},l=(n(87),function(e,t){var n=sessionStorage.getItem("token");console.log(t);var a={localId:t,id:e};return function(e){i.a.post("/user.json?auth="+n,a).then(function(a){e(u(n,t))})}}),u=function(e,t){var n="?auth="+e+'&orderBy="localId"&equalTo="'+t+'"';return function(e){i.a.get("/user.json"+n).then(function(t){var n;console.log(t),e((n=t.data,{type:a.e,IDs:n}))}).catch(function(t){e(function(e){return{type:a.d,err:e}}(t))})}},m=function(e){var t=e.join(",");console.log(t);var n="http://api.openweathermap.org/data/2.5/group?id=".concat(t,"&units=metric&appid=").concat(c.a.apiKeyOWM);return function(e){e({type:a.j}),i.a.get(n).then(function(t){console.log(t),e(function(e){return{type:a.k,listCity:e.data.list}}(t))}).catch(function(t){e(function(e){return{type:a.i,err:e}}(t))})}},p=function(e){return{type:a.m,id:e}};n.d(t,"a",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return p})},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){"use strict";var a=n(13),i=n(16),r=n(18),c=n(17),o=n(19),s=n(0),l=n.n(s),u=n(81),m=n.n(u),p=function(e){return l.a.createElement("div",{className:"Item Item--front"},l.a.createElement("div",{className:"col-6-of-12 cityName--back"},l.a.createElement("h2",{className:"secondary__heading",style:{color:"floralwhite"}},e.cityName)),l.a.createElement("div",{className:"col-1-of-12"},l.a.createElement("div",{className:"temp"},e.temp,"\xb0"),l.a.createElement("div",{className:"description"},e.description)))},d=(n(95),function(e){return l.a.createElement("div",null,l.a.createElement("i",{className:"icon ion-ios-".concat(e.iconName," ").concat(e.size)}))}),h=n(83),f=function(e){var t=["Item"];return e.authUser?t.push("Item--back--user"):t.push("Item--back"),l.a.createElement(m.a,null,l.a.createElement("div",{className:t.join(" ")},l.a.createElement("div",{className:"col-12-of-12"},l.a.createElement("h2",{className:"secondary__heading",style:{color:"floralwhite"}},e.cityName)),l.a.createElement("div",{className:"col-3-of-12"},l.a.createElement("div",{className:"temp"},e.temp,"\xb0"),l.a.createElement("div",{className:"description"},e.description)),l.a.createElement("div",{className:"detailResult col-9-of-12",style:{position:"absolute",right:"0",top:"1rem"}},l.a.createElement("div",{className:"row col-3-of-12 resultItem"},l.a.createElement("div",{className:"col-12-of-12"},l.a.createElement(d,{iconName:"thermometer",size:"big"})),l.a.createElement("div",{className:"col-12-of-12 itemInfo"},l.a.createElement("div",{className:"col-6-of-12"},"Min. ",e.tempMin,"\xb0"),l.a.createElement("div",{className:"col-6-of-12"},"Max. ",e.tempMax,"\xb0"))),l.a.createElement("div",{className:"col-3-of-12 resultItem"},l.a.createElement("div",{className:"col-12-of-12"},l.a.createElement(d,{iconName:"water",size:"big"})),l.a.createElement("div",{className:"col-12-of-12 itemInfo"},l.a.createElement("div",{className:"col-6-of-12"},"Humidity. ",e.humidity,"%"))),l.a.createElement("div",{className:"col-3-of-12 resultItem"},l.a.createElement("div",{className:"col-12-of-12"},l.a.createElement(d,{iconName:"cloud-outline",size:"big"})),l.a.createElement("div",{className:"col-12-of-12 itemInfo"},l.a.createElement("div",{className:"col-6-of-12"},"Wind Speed. ",e.windSpeed," m/s"),l.a.createElement("div",{className:"col-6-of-12"},"Deg. ",e.windDeg,"\xb0"))),l.a.createElement("div",{className:"col-2-of-12 resultItem"},l.a.createElement("div",{className:"col-12-of-12"},l.a.createElement(h.a,{click:e.authUser?e.remove:e.add,btnType:"Btn-normal"},e.authUser?l.a.createElement(d,{iconName:"trash",size:"big"}):l.a.createElement("span",null,"Add city")))))))},y=(n(96),n(33)),v=function(e){function t(){return Object(a.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=["WeatherResultItem","section"],t=null;return this.props.authUser?(e.push("forUser"),t=l.a.createElement("div",{className:e.join(" "),style:this.props.style},l.a.createElement(f,{authUser:this.props.authUser,cityName:this.props.cityName,temp:Math.round(this.props.temp),description:this.props.description,tempMin:this.props.tempMin,tempMax:this.props.tempMax,humidity:this.props.humidity,windSpeed:this.props.windSpeed,windDeg:this.props.windDeg,remove:this.props.remove,add:this.props.add}),l.a.createElement(p,{cityName:this.props.cityName,temp:Math.round(this.props.temp),description:this.props.description}))):t=l.a.createElement("div",{className:e.join(" ")},l.a.createElement(f,{authUser:this.props.authUser,cityName:this.props.city.name,temp:Math.round(this.props.city.temp),description:this.props.city.weather.map(function(e){return e.main}),tempMin:this.props.city.tempMin,tempMax:this.props.city.tempMax,humidity:this.props.city.humidity,windSpeed:this.props.city.wind.speed,windDeg:this.props.city.wind.deg,add:this.props.add})),l.a.createElement(m.a,null,t)}}]),t}(s.Component);t.a=Object(y.b)(function(e){return{city:e.weather.city,forUser:e.auth.token}})(v)}}]);
//# sourceMappingURL=6.398b87d0.chunk.js.map